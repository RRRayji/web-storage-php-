-- phpMyAdmin SQL Dump
-- version 5.0.2
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Мар 21 2024 г., 13:57
-- Версия сервера: 10.3.22-MariaDB
-- Версия PHP: 7.1.33

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `копеечка`
--

-- --------------------------------------------------------

--
-- Структура таблицы `приход`
--

CREATE TABLE `приход` (
  `№_накладной` int(11) NOT NULL,
  `тип_накладной` varchar(255) NOT NULL,
  `дата` date NOT NULL,
  `№_склада` int(11) NOT NULL,
  `поставщик` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `приход`
--

INSERT INTO `приход` (`№_накладной`, `тип_накладной`, `дата`, `№_склада`, `поставщик`) VALUES
(1, 'Поступление от поставщика', '2024-03-15', 1, 1),
(2, 'Поступление от поставщика', '2024-03-16', 2, 2),
(3, 'Возврат от покупателя', '2024-03-17', 1, 3),
(4, 'Перемещение между складами', '2024-03-18', 2, 1),
(5, 'Перемещение между складами', '2024-03-19', 3, 2),
(6, 'Поступление от поставщика', '2024-03-20', 1, 1),
(7, 'Поступление от поставщика', '2024-03-21', 2, 2),
(8, 'Возврат от покупателя', '2024-03-22', 1, 3),
(9, 'Перемещение между складами', '2024-03-23', 2, 1),
(10, 'Перемещение между складами', '2024-03-24', 3, 2),
(11, 'Поступление от поставщика', '2024-03-25', 1, 1),
(12, 'Поступление от поставщика', '2024-03-26', 2, 2),
(13, 'Возврат от покупателя', '2024-03-27', 1, 3),
(14, 'Перемещение между складами', '2024-03-28', 2, 1),
(15, 'Перемещение между складами', '2024-03-29', 3, 2),
(16, 'Поступление от поставщика', '2024-03-30', 1, 1),
(17, 'Поступление от поставщика', '2024-03-31', 2, 2),
(18, 'Возврат от покупателя', '2024-04-01', 1, 3),
(19, 'Перемещение между складами', '2024-04-02', 2, 1),
(20, 'Перемещение между складами', '2024-04-03', 3, 2),
(21, 'Поступление от поставщика', '2024-04-04', 1, 1),
(22, 'Поступление от поставщика', '2024-04-05', 2, 2),
(23, 'Возврат от покупателя', '2024-04-06', 1, 3),
(24, 'Перемещение между складами', '2024-04-07', 2, 1),
(25, 'Перемещение между складами', '2024-04-08', 3, 2),
(26, 'Поступление от поставщика', '2024-04-09', 1, 1),
(27, 'Поступление от поставщика', '2024-04-10', 2, 2),
(28, 'Возврат от покупателя', '2024-04-11', 1, 3),
(29, 'Перемещение между складами', '2024-04-12', 2, 1),
(30, 'Перемещение между складами', '2024-04-13', 3, 2);

-- --------------------------------------------------------

--
-- Структура таблицы `организации`
--

CREATE TABLE `организации` (
  `№_организации` int(11) NOT NULL,
  `наименование` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `организации`
--

INSERT INTO `организации` (`№_организации`, `наименование`) VALUES
(1, 'ООО \"Агропром\"'),
(2, 'ЗАО \"Хлебозавод №1\"'),
(3, 'ИП \"Мясной мир\"'),
(4, 'ООО \"Молочные продукты\"'),
(5, 'ООО \"Фрукты и овощи\"'),
(6, 'ЗАО \"Рыбный промысел\"'),
(7, 'ИП \"Птицефабрика\"'),
(8, 'ООО \"Кондитерская фабрика\"'),
(9, 'ЗАО \"Бакалейные товары\"'),
(10, 'ИП \"Чаеторговая компания\"'),
(11, 'ООО \"Эко-ферма\"'),
(12, 'ИП \"Пчеловод\"'),
(13, 'ООО \"Грибная компания\"'),
(14, 'ЗАО \"Соки и воды\"'),
(15, 'ИП \"Винодельня\"'),
(16, 'ООО \"Пивоваренный завод\"'),
(17, 'ЗАО \"Табачная фабрика\"'),
(18, 'ИП \"Магазин чая\"'),
(19, 'ООО \"Кофе-Импорт\"'),
(20, 'ЗАО \"Специи и пряности\"'),
(21, 'ООО \"Агрохолдинг\"'),
(22, 'ИП \"Семейная ферма\"'),
(23, 'ООО \"Экопродукт\"'),
(24, 'ЗАО \"Био-Вегетариан\"'),
(25, 'ИП \"Веганские продукты\"'),
(26, 'ООО \"Без глютена\"'),
(27, 'ЗАО \"Без ГМО\"'),
(28, 'ИП \"Органические продукты\"'),
(29, 'ООО \"Натуральные напитки\"'),
(30, 'ЗАО \"Здоровое питание\"');

-- --------------------------------------------------------

--
-- Структура таблицы `остаток_на_складе`
--

CREATE TABLE `остаток_на_складе` (
  `№_склада` int(11) NOT NULL,
  `артикул` int(11) NOT NULL,
  `количество` int(11) NOT NULL,
  `дата` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `остаток_на_складе`
--

INSERT INTO `остаток_на_складе` (`№_склада`, `артикул`, `количество`, `дата`) VALUES
(1, 1, 10, '2024-03-20'),
(1, 2, 20, '2024-03-20'),
(1, 3, 30, '2024-03-20'),
(1, 4, 40, '2024-03-20'),
(1, 5, 50, '2024-03-20'),
(2, 1, 15, '2024-03-20'),
(2, 2, 25, '2024-03-20'),
(2, 3, 35, '2024-02-20'),
(2, 4, 45, '2024-02-20'),
(2, 5, 55, '2024-02-20'),
(3, 1, 20, '2024-02-20'),
(3, 2, 30, '2024-02-20'),
(3, 3, 40, '2024-03-20'),
(3, 4, 50, '2024-03-20'),
(3, 5, 60, '2024-03-20'),
(4, 1, 25, '2024-03-20'),
(4, 2, 35, '2024-03-20'),
(4, 3, 45, '2024-03-20'),
(4, 4, 55, '2024-03-20'),
(4, 5, 65, '2024-03-20'),
(5, 1, 30, '2024-03-20'),
(5, 2, 40, '2024-02-20'),
(5, 3, 50, '2024-02-20'),
(5, 4, 60, '2024-02-20'),
(5, 5, 70, '2024-02-20'),
(6, 1, 35, '2024-03-20'),
(6, 2, 45, '2024-03-20'),
(6, 3, 55, '2024-03-20'),
(6, 4, 65, '2024-03-20'),
(6, 5, 75, '2024-03-20');

-- --------------------------------------------------------

--
-- Структура таблицы `расход`
--

CREATE TABLE `расход` (
  `№_лимитной_карты` int(11) NOT NULL,
  `подразделение` varchar(255) NOT NULL,
  `№_склада` int(11) NOT NULL,
  `товар` int(11) NOT NULL,
  `месяц` int(11) NOT NULL,
  `год` int(11) NOT NULL,
  `лимит` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `расход`
--

INSERT INTO `расход` (`№_лимитной_карты`, `подразделение`, `№_склада`, `товар`, `месяц`, `год`, `лимит`) VALUES
(1, 'Овощи и фрукты', 1, 1, 3, 2024, 100),
(2, 'Молочные продукты', 1, 2, 3, 2024, 800),
(3, 'Мясо и колбасы', 2, 3, 3, 2024, 120),
(4, 'Рыба и морепродукты', 2, 4, 3, 2024, 900),
(5, 'Хлебобулочные изделия', 1, 5, 3, 2024, 500),
(6, 'Бакалея', 1, 6, 3, 2024, 700),
(7, 'Кондитерские изделия', 2, 7, 3, 2024, 400),
(8, 'Замороженные продукты', 2, 8, 3, 2024, 600),
(9, 'Напитки', 1, 9, 3, 2024, 300),
(10, 'Алкогольные напитки', 2, 10, 3, 2024, 500),
(11, 'Овощи и фрукты', 1, 1, 3, 2024, 100),
(12, 'Молочные продукты', 1, 2, 3, 2024, 800),
(13, 'Мясо и колбасы', 2, 3, 3, 2024, 120),
(14, 'Рыба и морепродукты', 2, 4, 3, 2024, 900),
(15, 'Хлебобулочные изделия', 1, 5, 3, 2024, 500),
(16, 'Бакалея', 1, 6, 3, 2024, 700),
(17, 'Кондитерские изделия', 2, 7, 3, 2024, 400),
(18, 'Замороженные продукты', 2, 8, 3, 2024, 600),
(19, 'Напитки', 1, 9, 3, 2024, 300),
(20, 'Алкогольные напитки', 2, 10, 3, 2024, 500),
(21, 'Овощи и фрукты', 1, 1, 3, 2024, 100),
(22, 'Молочные продукты', 1, 2, 3, 2024, 800),
(23, 'Мясо и колбасы', 2, 3, 3, 2024, 120),
(24, 'Рыба и морепродукты', 2, 4, 3, 2024, 900),
(25, 'Хлебобулочные изделия', 1, 5, 3, 2024, 500),
(26, 'Бакалея', 1, 6, 3, 2024, 700),
(27, 'Кондитерские изделия', 2, 7, 3, 2024, 400),
(28, 'Замороженные продукты', 2, 8, 3, 2024, 600),
(29, 'Напитки', 1, 9, 3, 2024, 300),
(30, 'Алкогольные напитки', 2, 10, 3, 2024, 500);

-- --------------------------------------------------------

--
-- Структура таблицы `склады`
--

CREATE TABLE `склады` (
  `№_склада` int(11) NOT NULL,
  `наименование` varchar(255) NOT NULL,
  `фио_кладовщика` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `склады`
--

INSERT INTO `склады` (`№_склада`, `наименование`, `фио_кладовщика`) VALUES
(1, 'Склад №1', 'Иванов Иван Иванович'),
(2, 'Склад №2', 'Петрова Мария Сергеевна'),
(3, 'Склад №3', 'Сидоров Николай Петрович'),
(4, 'Склад №4', 'Федорова Ольга Владимировна'),
(5, 'Склад №5', 'Кузнецов Алексей Михайлович'),
(6, 'Склад №6', 'Смирнова Ирина Александровна'),
(7, 'Склад №7', 'Попов Андрей Дмитриевич'),
(8, 'Склад №8', 'Васильева Елена Николаевна'),
(9, 'Склад №9', 'Соколов Сергей Юрьевич'),
(10, 'Склад №10', 'Захарова Татьяна Викторовна');

-- --------------------------------------------------------

--
-- Структура таблицы `состав_накладной`
--

CREATE TABLE `состав_накладной` (
  `№_накладной` int(11) NOT NULL,
  `артикул_товара` int(11) NOT NULL,
  `количество` int(11) NOT NULL,
  `стоимость` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `состав_накладной`
--

INSERT INTO `состав_накладной` (`№_накладной`, `артикул_товара`, `количество`, `стоимость`) VALUES
(1, 1, 10, 0),
(1, 2, 5, 0),
(1, 3, 20, 0),
(2, 4, 15, 0),
(2, 5, 10, 0),
(2, 6, 7, 0),
(3, 7, 2, 0),
(3, 8, 1, 0),
(3, 9, 3, 0),
(4, 10, 5, 0),
(4, 11, 12, 0),
(5, 12, 13, 0),
(5, 13, 14, 0),
(6, 14, 15, 0),
(6, 15, 16, 0),
(6, 16, 17, 0),
(7, 17, 18, 0),
(7, 18, 19, 0),
(7, 19, 20, 0),
(8, 20, 21, 0);

--
-- Триггеры `состав_накладной`
--
DELIMITER $$
CREATE TRIGGER `update_stoimost` AFTER UPDATE ON `состав_накладной` FOR EACH ROW BEGIN
    DECLARE price DECIMAL(10,2);
    SELECT цена INTO price
    FROM товары
    WHERE артикул = NEW.артикул_товара;
    UPDATE состав_накладной
    SET стоимость = price * NEW.количество
    WHERE артикул_товара = NEW.артикул_товара;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Структура таблицы `состав_расхода`
--

CREATE TABLE `состав_расхода` (
  `№_пп` int(11) NOT NULL,
  `вид_расхода` varchar(255) NOT NULL,
  `№_лимитной_карты` int(11) NOT NULL,
  `дата` date NOT NULL,
  `количество` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `состав_расхода`
--

INSERT INTO `состав_расхода` (`№_пп`, `вид_расхода`, `№_лимитной_карты`, `дата`, `количество`) VALUES
(1, 'Списание по сроку годности', 1, '2024-03-20', 10),
(2, 'Бой', 2, '2024-03-20', 5),
(3, 'Уценка', 3, '2024-03-20', 2),
(4, 'Прочее', 4, '2024-03-20', 1),
(5, 'Списание по сроку годности', 5, '2024-03-21', 15),
(6, 'Бой', 6, '2024-03-21', 7),
(7, 'Уценка', 7, '2024-03-21', 3),
(8, 'Прочее', 8, '2024-03-21', 2),
(9, 'Списание по сроку годности', 9, '2024-03-22', 12),
(10, 'Бой', 10, '2024-03-22', 6),
(11, 'Уценка', 11, '2024-03-22', 4),
(12, 'Прочее', 12, '2024-03-22', 3),
(13, 'Списание по сроку годности', 13, '2024-03-23', 10),
(14, 'Бой', 14, '2024-03-23', 5),
(15, 'Уценка', 15, '2024-03-23', 2),
(16, 'Прочее', 16, '2024-03-23', 1),
(17, 'Списание по сроку годности', 17, '2024-03-24', 15),
(18, 'Бой', 18, '2024-03-24', 7),
(19, 'Уценка', 19, '2024-03-24', 3),
(20, 'Прочее', 20, '2024-03-24', 2),
(21, 'Списание по сроку годности', 21, '2024-03-25', 12),
(22, 'Бой', 22, '2024-03-25', 6),
(23, 'Уценка', 23, '2024-03-25', 4),
(24, 'Прочее', 24, '2024-03-25', 3),
(25, 'Списание по сроку годности', 25, '2024-03-26', 10),
(26, 'Бой', 26, '2024-03-26', 5),
(27, 'Уценка', 27, '2024-03-26', 2),
(28, 'Прочее', 28, '2024-03-26', 1),
(29, 'Списание по сроку годности', 29, '2024-03-27', 15),
(30, 'Бой', 30, '2024-03-27', 7);

-- --------------------------------------------------------

--
-- Структура таблицы `товары`
--

CREATE TABLE `товары` (
  `артикул` int(11) NOT NULL,
  `наименование` varchar(255) NOT NULL,
  `категория` varchar(255) NOT NULL,
  `кол-во` int(11) NOT NULL,
  `ед_изм` varchar(255) NOT NULL,
  `цена` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `товары`
--

INSERT INTO `товары` (`артикул`, `наименование`, `категория`, `кол-во`, `ед_изм`, `цена`) VALUES
(1, 'Ромашка', 'чай', 25, 'пак', 85),
(2, 'Русский караван', 'чай', 20, 'пак', 100),
(3, 'Зелёная поляна', 'чай', 25, 'пак', 110),
(4, 'Дарница', 'хлеб', 400, 'г', 90),
(5, 'Рогачев', 'молоко', 900, 'мл', 90),
(6, 'Дарница', 'хлеб', 400, 'г', 70),
(7, 'Своя ферма', 'яйца', 10, 'шт', 120),
(8, 'Российский', 'сыр', 300, 'г', 450),
(9, 'Докторская', 'колбаса', 400, 'г', 480),
(10, 'Гренни Смит', 'яблоки', 1000, 'г', 180),
(11, 'Бананы', 'фрукты', 1000, 'г', 140),
(12, 'Помидоры', 'овощи', 1000, 'г', 120),
(13, 'Огурцы', 'овощи', 1000, 'г', 100),
(14, 'Картофель', 'овощи', 1000, 'г', 60),
(15, 'Простоквашино', 'сметана', 350, 'г', 70),
(16, 'Активиа', 'йогурт', 500, 'г', 70),
(17, 'Домик в деревне', 'творог', 500, 'г', 80),
(18, 'Вологодское', 'масло сливочное', 180, 'г', 120),
(19, 'Домик в деревне', 'кефир', 900, 'г', 60),
(20, 'Сибирские', 'пельмени', 800, 'г', 300),
(22, 'Бабушка Аня', 'мясо птицы', 1000, 'г', 450),
(23, 'Минтай', 'рыба', 700, 'г', 250),
(25, 'Добрый', 'сок', 1000, 'мл', 100),
(26, 'Святой источник', 'вода питьевая', 500, 'мл', 50),
(27, 'Липтон', 'чай', 25, 'пак', 150),
(28, 'Nescafe', 'кофе', 800, 'г', 300),
(29, 'Алёнка', 'конфеты', 200, 'г', 120),
(30, 'Юбилейное', 'печенье', 400, 'г', 80),
(31, 'Водар', 'хлеб', 700, 'г', 35),
(32, 'Нарезной', 'батон', 700, 'г', 25),
(33, 'Макфа', 'макарон', 400, 'г', 50),
(34, 'Басмати', 'рис', 1000, 'г', 150),
(35, 'Экстра', 'соль', 1000, 'г', 50),
(36, 'Песок', 'сахар', 1000, 'г', 80),
(37, 'Пшеничная', 'мука', 2000, 'г', 60),
(38, 'Бабушка Аня', 'гречневая каша', 800, 'г', 120),
(39, 'Манка', 'манная крупа', 500, 'г', 50),
(40, 'Геркулес', 'овсяные хлопья', 400, 'г', 80),
(41, 'Сода пищевая', 'сода пищевая', 500, 'г', 30),
(44, 'Чёрный горошек', 'перец', 50, 'г', 30),
(45, 'Heinz', 'кетчуп', 500, 'г', 120),
(48, 'Рафинированное', 'подсолнечное масло', 1000, 'мл', 150),
(49, 'Extra Virgin', 'оливковое масло', 500, 'мл', 400),
(50, 'Хозяюшка', 'Сливочное масло', 180, 'г', 130),
(52, 'Активиа', 'йогурт ', 170, 'г', 40),
(54, 'Вологодское', 'масло сливочное', 100, 'г', 80),
(62, 'Рогачев', 'сгущёнка', 380, 'г', 80);

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `приход`
--
ALTER TABLE `приход`
  ADD PRIMARY KEY (`№_накладной`),
  ADD KEY `№_склада` (`№_склада`,`поставщик`),
  ADD KEY `поставщик` (`поставщик`);

--
-- Индексы таблицы `организации`
--
ALTER TABLE `организации`
  ADD PRIMARY KEY (`№_организации`);

--
-- Индексы таблицы `остаток_на_складе`
--
ALTER TABLE `остаток_на_складе`
  ADD KEY `артикул` (`артикул`),
  ADD KEY `@u0@x0@y0@g0@y0@u0@q0_@t0@g0_@x0@q0@r0@g0@k0@l0_ibfk_1` (`№_склада`),
  ADD KEY `артикул_2` (`артикул`);

--
-- Индексы таблицы `расход`
--
ALTER TABLE `расход`
  ADD PRIMARY KEY (`№_лимитной_карты`),
  ADD KEY `№_склада` (`№_склада`,`товар`),
  ADD KEY `товар` (`товар`),
  ADD KEY `№_склада_2` (`№_склада`),
  ADD KEY `товар_2` (`товар`);

--
-- Индексы таблицы `склады`
--
ALTER TABLE `склады`
  ADD PRIMARY KEY (`№_склада`);

--
-- Индексы таблицы `состав_накладной`
--
ALTER TABLE `состав_накладной`
  ADD KEY `№_накладной` (`№_накладной`,`артикул_товара`),
  ADD KEY `артикул` (`артикул_товара`),
  ADD KEY `артикул_2` (`артикул_товара`);

--
-- Индексы таблицы `состав_расхода`
--
ALTER TABLE `состав_расхода`
  ADD PRIMARY KEY (`№_пп`),
  ADD KEY `№_лимитной_карты` (`№_лимитной_карты`),
  ADD KEY `№_лимитной_карт?_2` (`№_лимитной_карты`);

--
-- Индексы таблицы `товары`
--
ALTER TABLE `товары`
  ADD PRIMARY KEY (`артикул`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `организации`
--
ALTER TABLE `организации`
  MODIFY `№_организации` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;

--
-- AUTO_INCREMENT для таблицы `расход`
--
ALTER TABLE `расход`
  MODIFY `№_лимитной_карты` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;

--
-- AUTO_INCREMENT для таблицы `склады`
--
ALTER TABLE `склады`
  MODIFY `№_склада` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT для таблицы `состав_расхода`
--
ALTER TABLE `состав_расхода`
  MODIFY `№_пп` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;

--
-- AUTO_INCREMENT для таблицы `товары`
--
ALTER TABLE `товары`
  MODIFY `артикул` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=91;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `приход`
--
ALTER TABLE `приход`
  ADD CONSTRAINT `nostorage_ibfk_2` FOREIGN KEY (`№_склада`) REFERENCES `склады` (`№_склада`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `provider_ibfk_3` FOREIGN KEY (`поставщик`) REFERENCES `организации` (`№_организации`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `остаток_на_складе`
--
ALTER TABLE `остаток_на_складе`
  ADD CONSTRAINT `artikul_ibfk_2` FOREIGN KEY (`артикул`) REFERENCES `товары` (`артикул`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `storage_ibfk_1` FOREIGN KEY (`№_склада`) REFERENCES `склады` (`№_склада`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `расход`
--
ALTER TABLE `расход`
  ADD CONSTRAINT `nostorage_ibfk_1` FOREIGN KEY (`№_склада`) REFERENCES `склады` (`№_склада`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `tovar_ibfk_2` FOREIGN KEY (`товар`) REFERENCES `товары` (`артикул`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `состав_накладной`
--
ALTER TABLE `состав_накладной`
  ADD CONSTRAINT `art_tovar_ibfk_1` FOREIGN KEY (`артикул_товара`) REFERENCES `товары` (`артикул`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `nakdadnaya_ibfk_2` FOREIGN KEY (`№_накладной`) REFERENCES `приход` (`№_накладной`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Ограничения внешнего ключа таблицы `состав_расхода`
--
ALTER TABLE `состав_расхода`
  ADD CONSTRAINT `sostav_ibfk_1` FOREIGN KEY (`№_лимитной_карты`) REFERENCES `расход` (`№_лимитной_карты`) ON DELETE NO ACTION ON UPDATE NO ACTION;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
